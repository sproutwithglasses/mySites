<!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>What's in my Bag</title>
        <link rel="icon" type="image/x-icon" href="favicon.ico"> 

        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Pinyon+Script&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="../What's in my bag/mybag.css">

        

        <!--jqueryui for draggable widgetw-->
        <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
        <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
    
    </head>


    <body>

        <!--Title and Words-->
        <div class="page">
            <div class="topleft">Click and drag to explore</div>
            <div class="topright">As of July 2024</div>

            <div class="title"></div>
            <!--Container where the items can be moved around-->
            <div id="containment-wrapper">
                <!--The Bag image-->
                <div class="flex">
                    <img id="mybag" class="background-image" src="../What's in my bag/mybag images/mybag.PNG">
                </div>
                
                <!--Book-->
                <div class="draggable draggablelarge ui-widget-content" data-x="65%" data-y="40%">
                    <img class="large" id="hoverbook" src="../What's in my bag/mybag images/book.PNG">
                </div>   
                <!--Headphones-->
                <div class="draggable draggablelarge ui-widget-content" data-x="55%" data-y="20%">
                    <img class="large" id="hoverheadphones" src="../What's in my bag/mybag images/headphones.PNG">
                </div>
                <!--Lighter-->
                <div class="draggable draggablesmall ui-widget-content" data-x="40%" data-y="10%">
                    <img class="small" id="hoverlighter" src="../What's in my bag/mybag images/lighter.PNG">
                </div>
                <!--Wallet-->
                <div class="draggable draggablesmall ui-widget-content" data-x="18%" data-y="28%">
                    <img class="small" id="hoverwallet" src="../What's in my bag/mybag images/wallet.PNG">
                </div>
                <!--Keys-->
                <div class="draggable draggablesmall ui-widget-content"  data-x="30%" data-y="20%">
                    <img class="small" id="hoverkeys" src="../What's in my bag/mybag images/keys.PNG">
                </div>
                <!--Cube-->
                <div class="draggable draggablesmall ui-widget-content" data-x="50%" data-y="15%">
                    <img class="small" id="hovercube" src="../What's in my bag/mybag images/cube.PNG">
                </div>
                <!--Aquaphor-->
                <div class="draggable draggablemedium ui-widget-content"  data-x="50%" data-y="40%">
                    <img class="medium" id="hoveraquaphor" src="../What's in my bag/mybag images/aquaphor.PNG">
                </div>
                <!--FaceCushion-->
                <div class="draggable draggablesmall ui-widget-content"  data-x="25%" data-y="50%"> 
                    <img class="small" id="hoverfacecushion" src="../What's in my bag/mybag images/facecushion.png">
                </div>
                <!--Glasses-->
                <div class="draggable draggablemedium ui-widget-content" data-x="20%" data-y="25%">
                    <img class="medium" id="hoverglasses" src="../What's in my bag/mybag images/glasses2.png">
                </div>
                <!--Perfume-->
                <div class="draggable draggablemediumlarge ui-widget-content" data-x="20%" data-y="45%">
                    <img class="mediumlarge" id="hoverperfume" src="../What's in my bag/mybag images/perfume2.png">
                </div>
                <!--External Hard Drive-->
                <div class="draggable draggablemedium ui-widget-content" data-x="30%" data-y="35%">
                    <img class="medium" id="hoverharddrive" src="../What's in my bag/mybag images/harddrive.PNG">
                </div>
                <!--Phone-->
                <div class="draggable draggablemedium ui-widget-content" data-x="50%" data-y="45%">
                    <img class="medium" id="hoverphone" src="../What's in my bag/mybag images/phone.PNG">
                </div>
                <!--Keychain-->
                <div class="draggable draggablesmall ui-widget-content" data-x="40%" data-y="30%">
                    <img class="small" id="hoverkeychain" src="../What's in my bag/mybag images/keychain.PNG">
                </div>
                <!--Camera-->
                <div class="draggable draggablemedium ui-widget-content" data-x="50%" data-y="55%">
                    <img class="medium" id="hovercamera" src="../What's in my bag/mybag images/camera.PNG">
                </div>
                <!--Ashwagandha-->
                <div class="draggable draggablemedium ui-widget-content" data-x="25%" data-y="25%">
                    <img style="rotate: 90deg;" class="medium" id="hoverashwagandha" src="../What's in my bag/mybag images/ashwagandha.png">
                </div>
                <!--Trinket-->
                <div class="draggable draggablesmall ui-widget-content" data-x="40%" data-y="45%">
                    <img class="small" id="hovertrinket" src="../What's in my bag/mybag images/trinket.png">
                </div>


            </div>

            <div class="bottompage">
                

                <!--On Hover for Description and Title of Item-->

                <div class="botleft">

                    <!--Book-->
                    <div class="book hidden box" >
                        <div class="itemdes">Hard recoomendation for women in their early 20s ( or any age ). Might not be your cup of tea but it's nice to give it a try. Massages your soul.</div>
                        <div><i>Women Who Run With The Wolves: Myth and Stories of the Wild Woman Archetype</i> by Clarissa Pinkola Est√©s</div> 
                    </div>

                     <!--Headphones-->
                    <div class="headphones hidden box">
                        <div class="itemdes">For my maladaptive daydreams.</div>
                        <div>Headphones</div> 
                    </div>

                    <!--Lighter-->
                    <div class="lighter hidden box">
                        <div class="itemdes">I don't smoke but I light candles and burn plastic backings on my crocheted doll eyes.</div>
                        <div>Lighter</div> 
                    </div>

                    <!--Wallet-->
                    <div class="wallet hidden box">
                        <div class="itemdes">To carry all the money I don't have. Had this wallet since high school. Purchased after my first real job.</div>
                        <div>Wallet</div> 
                    </div>

                    <!--Keys-->
                    <div class="keys hidden box">
                        <div class="itemdes">To get home.</div>
                        <div>Keys</div> 
                    </div>

                    <!--Cube-->
                    <div class="cube hidden box">
                        <div class="itemdes">Is this not the cutest puzzle cube you've ever seen?</div>
                        <div>Mahjong Puzzle Cube</div> 
                    </div>

                    <!--Aquaphor-->
                    <div class="aquaphor hidden box">
                        <div class="itemdes">Beats every lip balm I've ever tried. Works on dry elbows and eczema spots.</div>
                        <div>Skin Ointment</div> 
                    </div>

                    <!--FaceCushion-->
                    <div class="facecushion hidden box">
                        <div class="itemdes">Light face cushion with SPF. Third time purchasing this one and I stay loyal to my routine.</div>
                        <div>Face Cushion</div> 
                    </div>

                    <!--Glasses-->
                    <div class="glasses hidden box">
                        <div class="itemdes">I am unfortunately blind without these. Sometimes I carry an extra pair in my bag out of fear. My coolest thrift find.</div>
                        <div>Glasses</div> 
                    </div>

                    <!--Perfume-->
                    <div class="perfume hidden box">
                        <div class="itemdes">The scent drew me to this, the bottle threw me off. Smells like honey suckles and very nostalgic.</div>
                        <div>Floral Perfume</div> 
                    </div>

                    <!--External Hard Drive-->
                    <div class="harddrive hidden box">
                        <div class="itemdes">Every graphic designers soul is stored in one of these. I always have to replace the wire bevause my cat chews on it.</div>
                        <div>External Hard Drive</div> 
                    </div>

                    <!--Phone-->
                    <div class="phone hidden box">
                        <div class="itemdes">To call my mom when she leaves me at the grocery store or parking lot.</div>
                        <div>iPhone</div> 
                    </div>

                    <!--Keychain-->
                    <div class="keychain hidden box">
                        <div class="itemdes">Has a picture of my cat so I can bring him everywhere.</div>
                        <div>Keychain</div> 
                    </div>

                    <!--Camera-->
                    <div class="camera hidden box">
                        <div class="itemdes">Bought this second-hand camera for 20$. Has memories in it.</div>
                        <div>Digital Camera</div> 
                    </div>

                    <!--Ashwagandha-->
                    <div class="ashwagandha hidden box">
                        <div class="itemdes">In a never-ending cycle of disassociating. Two gummies a day. Great for regulating PCOS symptoms.</div>
                        <div>Ashwaganda Gummies</div> 
                    </div>

                    <!--Trinket-->
                    <div class="trinket hidden box">
                        <div class="itemdes">Think I got this for myself as a little graduation gift. Bought from a trinket collector. This isn't usually in my bag but it's cute.</div>
                        <div>PHB Porcelain Trinket</div> 
                    </div>
                    

                </div>

                <div class="botright">Designed and Coded by Gahyi.xyz</div>

            </div>
        
        </div>

        <!-- Scripts -->

        <script>
            //edited and reorganized with ChatGPT help ;D
            $(document).ready(function() {
                function initialize() {
                    // Draggable
                    $(".draggable").draggable({
                        containment: "#containment-wrapper",
                        scroll: false,
                        stack: "#containment-wrapper div"
                    });
            
                    // Position and constrain draggable elements
                    function updateContainerRect() {
                        return $('#containment-wrapper')[0].getBoundingClientRect();
                    }
            
                    function updateImageRect() {
                        return $('.background-image')[0].getBoundingClientRect();
                    }
            
                    function positionDivs() {
                        const imageRect = updateImageRect();
                        const containerRect = updateContainerRect();
            
                        const offsetX = imageRect.left - containerRect.left;
                        const offsetY = imageRect.top - containerRect.top;
            
                        $('.draggable').each(function() {
                            const div = $(this);
                            const dataX = div.data('x');
                            const dataY = div.data('y');
                            
                            // Convert percentages to pixels
                            const boxX = parseFloat(dataX) / 100 * imageRect.width;
                            const boxY = parseFloat(dataY) / 100 * imageRect.height;
                            
                            // Calculate the position of the box relative to the image
                            const left = offsetX + boxX;
                            const top = offsetY + boxY;
            
                            // Apply the position to the div
                            div.css({ left: `${left}px`, top: `${top}px` });
                        });
                    }
            
                    function constrainDivs() {
                        // Get the updated container dimensions
                        const containerRect = updateContainerRect();
                        
                        $('.draggable').each(function() {
                            const div = $(this);
                            const divRect = div[0].getBoundingClientRect();
                            let left = parseFloat(div.css('left')) || 0;
                            let top = parseFloat(div.css('top')) || 0;
            
                            // Constrain the div within the container
                            left = Math.max(0, Math.min(left, containerRect.width - divRect.width));
                            top = Math.max(0, Math.min(top, containerRect.height - divRect.height));
            
                            // Apply the constrained positions
                            div.css({ left: `${left}px`, top: `${top}px` });
                        });
                    }
            
                    // Initial positioning and constraint
                    positionDivs();
                    constrainDivs();
                    
                    // Recalculate position and constraints on window resize
                    $(window).on('resize', function() {
                        constrainDivs();
                    });
                }
            
                // Function to handle the completion of image loading
                function onAllImagesLoaded() {
                    initialize();
                }
            
                // Check if all images are loaded
                function checkImagesLoaded() {
                    const images = $('img');
                    let loadedImages = 0;
                    const totalImages = images.length;
            
                    if (totalImages === 0) {
                        onAllImagesLoaded();
                        return;
                    }
            
                    images.each(function() {
                        if (this.complete) {
                            loadedImages++;
                            if (loadedImages === totalImages) {
                                onAllImagesLoaded();
                            }
                        } else {
                            $(this).on('load', function() {
                                loadedImages++;
                                if (loadedImages === totalImages) {
                                    onAllImagesLoaded();
                                }
                            }).on('error', function() {
                                // Handle errors if needed
                                loadedImages++;
                                if (loadedImages === totalImages) {
                                    onAllImagesLoaded();
                                }
                            });
                        }
                    });
                }
            
                // Ensure all images are fully loaded before initializing draggable and positioning
                checkImagesLoaded();
            });
            </script>
        <!-- for the hover and description elements-->
        <script src="../What's in my bag/mybag.js"></script>
    </body>
    
    
</html>